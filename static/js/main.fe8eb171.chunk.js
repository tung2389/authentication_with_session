(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,a){},106:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=(a(102),a(59)),s=a(20),l=a.n(s),u=a(24),m=a(25),h=a(28),d=a(26),p=a(29),b=a(15),f=a(37),v=(a(106),a(262)),g=a(264),E=a(263),O=a(27),j=a.n(O),_=a(36),k=a.n(_),w=a(22),y=a.n(w),N=a(60),S=a.n(N);function x(e,t){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(l.a.mark(function e(t,a){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:a,credentials:"include"}).then(function(e){return e.text().then(function(e){return alert(e)})});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={email:void 0,password:void 0,is_log_in:!1,data:void 0},a.notSubmit=a.notSubmit.bind(Object(b.a)(Object(b.a)(a))),a.change_form=a.change_form.bind(Object(b.a)(Object(b.a)(a))),a.login=a.login.bind(Object(b.a)(Object(b.a)(a))),a.check_login=a.check_login.bind(Object(b.a)(Object(b.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"check_login",value:function(){var e=Object(f.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lkt-back-end.herokuapp.com/authen_and_autho/profile",{method:"GET",credentials:"include"});case 2:return t=e.sent,e.prev=3,e.next=6,t.json();case 6:t=e.sent,this.setState({is_log_in:!0,data:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.setState({is_log_in:!1});case 13:case"end":return e.stop()}},e,this,[[3,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.check_login()}},{key:"login",value:function(){var e=Object(f.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.email||!this.state.password){e.next=5;break}return t=JSON.stringify({email:this.state.email,password:this.state.password}),e.next=4,x("https://lkt-back-end.herokuapp.com/authen_and_autho/login",t);case 4:this.check_login();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"notSubmit",value:function(e){e.preventDefault()}},{key:"change_form",value:function(e,t){this.setState(Object(i.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this;return this.state.is_log_in?r.a.createElement(G,{data:this.state.data}):r.a.createElement("div",{className:"float-up"},r.a.createElement(k.a,{elevation:1,className:"center_content"},r.a.createElement("form",{className:"center",onSubmit:this.notSubmit},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Log in"),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Email",onChange:function(t){return e.change_form(t,"email")},required:!0}),r.a.createElement("br",null),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Password",onChange:function(t){return e.change_form(t,"password")},required:!0}),r.a.createElement("br",null),r.a.createElement(y.a,{type:"submit",color:"primary",variant:"contained",className:"login_btn",onClick:this.login},"Log in"))))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={email:void 0,password:void 0,confirm_password:void 0,username:void 0},a.notSubmit=a.notSubmit.bind(Object(b.a)(Object(b.a)(a))),a.change_form=a.change_form.bind(Object(b.a)(Object(b.a)(a))),a.sign_up=a.sign_up.bind(Object(b.a)(Object(b.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"sign_up",value:function(){this.state.email&&this.state.username&&this.state.password&&this.state.confirm_password&&(this.state.password===this.state.confirm_password?x("https://lkt-back-end.herokuapp.com/authen_and_autho/sign_up",JSON.stringify({email:this.state.email,username:this.state.username,password:this.state.password})):alert("Two passwords are not the same"))}},{key:"notSubmit",value:function(e){e.preventDefault()}},{key:"change_form",value:function(e,t){this.setState(Object(i.a)({},t,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"float-up"},r.a.createElement(k.a,{elevation:1,className:"center_content"},r.a.createElement("form",{className:"center",onSubmit:this.notSubmit},r.a.createElement(S.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Email",onChange:function(t){e.change_form(t,"email")},required:!0}),r.a.createElement("br",null),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Username",onChange:function(t){e.change_form(t,"username")},required:!0}),r.a.createElement("br",null),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Password",onChange:function(t){e.change_form(t,"password")},required:!0}),r.a.createElement("br",null),r.a.createElement(j.a,{margin:"normal",className:"test",label:"Confirm password",onChange:function(t){e.change_form(t,"confirm_password")},required:!0}),r.a.createElement("br",null),r.a.createElement(y.a,{type:"submit",color:"primary",variant:"contained",className:"login_btn",onClick:this.sign_up},"Sign up"))))}}]),t}(r.a.Component),G=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render_data",value:function(e){return r.a.createElement("div",{className:"float-up"},r.a.createElement(k.a,{elevation:1,className:"center_content"},r.a.createElement("h1",{align:"center"},"Your email: ",e.email),r.a.createElement("h1",{align:"center"},"Your username: ",e.username)))}},{key:"render",value:function(){return r.a.createElement("div",null,this.render_data(this.props.data),r.a.createElement("div",{className:"center"},r.a.createElement(y.a,{type:"submit",color:"secondary",variant:"contained",onClick:this.logout},"Log out")))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={data:void 0},a.logout=a.logout.bind(Object(b.a)(Object(b.a)(a))),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"logout",value:function(){fetch("https://lkt-back-end.herokuapp.com/authen_and_autho/logout",{method:"GET",credentials:"include"}).then(function(e){return e.text().then(function(e){return alert(e)})}),this.setState({data:void 0})}},{key:"componentDidMount",value:function(){var e=Object(f.a)(l.a.mark(function e(){var t,a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lkt-back-end.herokuapp.com/authen_and_autho/profile",{method:"GET",credentials:"include"});case 2:return t=e.sent,e.next=5,t.clone();case 5:return a=e.sent,e.prev=6,e.next=9,a.json();case 9:a=e.sent,this.setState({data:a}),e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(6),e.next=17,t.text();case 17:n=e.sent,alert(n);case 19:case"end":return e.stop()}},e,this,[[6,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data?r.a.createElement(G,{data:this.state.data}):r.a.createElement("div",{className:"center"},"You haven't logged in yet")}}]),t}(r.a.Component),P=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.a,{to:"/login"},r.a.createElement(y.a,{variant:"contained"},"LOG IN")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{to:"/sign_up"},r.a.createElement(y.a,{variant:"contained"},"SIGN UP")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{to:"/profile"},r.a.createElement(y.a,{variant:"contained"},"PROFILE")))}}]),t}(r.a.Component),D=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{basename:"/authentication_with_session"},r.a.createElement("div",null,r.a.createElement(E.a,{exact:!0,path:"/",component:P}),r.a.createElement(v.a,{className:"HOME",to:"/"},r.a.createElement(y.a,{variant:"contained",color:"secondary"},"HOME")),r.a.createElement(E.a,{path:"/login",component:q}),r.a.createElement(E.a,{path:"/sign_up",component:T}),r.a.createElement(E.a,{path:"/profile",component:L})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},97:function(e,t,a){e.exports=a(260)}},[[97,2,1]]]);